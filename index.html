<script>
  const screens = Array.from(document.querySelectorAll('.screen'));
  let current = 0;

  function show(index) {
    screens.forEach(s => s.classList.remove('active'));
    screens[index].classList.add('active');
    current = index;
  }

  document.addEventListener('click', () => {
    const activeScreen = screens[current];
    const hasTap = activeScreen.querySelector('.tap');

    // MUST have tap text to proceed
    if (!hasTap) return;

    // block button & quiz screens
    if (activeScreen.id === 's4') return;
    if (activeScreen.id === 'q1' || activeScreen.id === 'q2') return;

    if (current < screens.length - 1) {
      show(current + 1);
    }
  });

  let noScale = 1;
  document.getElementById('noBtn').onclick = () => {
    noScale -= 0.1;
    document.getElementById('noBtn').style.transform = `scale(${noScale})`;
    document.getElementById('yesBtn').style.transform = `scale(${1 + (1 - noScale)})`;
  };

  document.getElementById('yesBtn').onclick = () => {
    document.getElementById('yesBtn').classList.add('green');
    setTimeout(() => show(4), 600);
  };

  document.querySelectorAll('#q1 .option').forEach(opt => {
    opt.onclick = () => {
      document.querySelectorAll('#q1 .option').forEach(o => o.classList.add('correct'));
      setTimeout(() => show(6), 800);
    };
  });

  document.querySelectorAll('#q2 .option').forEach(opt => {
    opt.onclick = () => {
      document.querySelectorAll('#q2 .option').forEach(o => o.classList.add('correct'));
      setTimeout(() => show(7), 800);
    };
  });
</script>
